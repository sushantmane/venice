<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DaVinciRecordTransformer (venice API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DaVinciRecordTransformer (venice API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":6,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":6,"i13":6,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.linkedin.davinci.client</a></div>
<h2 title="Class DaVinciRecordTransformer" class="title">Class DaVinciRecordTransformer&lt;K,&#8203;V,&#8203;O&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.linkedin.davinci.client.DaVinciRecordTransformer&lt;K,&#8203;V,&#8203;O&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of the input key</dd>
<dd><code>V</code> - the type of the input value</dd>
<dd><code>O</code> - the type of the output value</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="BlockingDaVinciRecordTransformer.html" title="class in com.linkedin.davinci.client">BlockingDaVinciRecordTransformer</a></code></dd>
</dl>
<hr>
<pre><a href="../../venice/annotation/Experimental.html" title="annotation in com.linkedin.venice.annotation">@Experimental</a>
public abstract class <span class="typeNameLabel">DaVinciRecordTransformer&lt;K,&#8203;V,&#8203;O&gt;</span>
extends java.lang.Object</pre>
<div class="block">This abstract class can be extended in order to transform records stored in the Da Vinci Client,
 or write to a custom storage of your choice.

 The input is what is consumed from the raw Venice data set, whereas the output is what is stored
 into Da Vinci's local storage (e.g. RocksDB).

 Implementations should be thread-safe and support schema evolution.

 Note: Inputs are wrapped inside <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy"><code>Lazy</code></a> to avoid deserialization costs if not needed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,boolean)">DaVinciRecordTransformer</a></span>&#8203;(int&nbsp;storeVersion,
                        boolean&nbsp;storeRecordsInDaVinci)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClassHash()">getClassHash</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract org.apache.avro.Schema</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKeySchema()">getKeySchema</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the schema for the key used in <a href="DaVinciClient.html" title="interface in com.linkedin.davinci.client"><code>DaVinciClient</code></a>'s operations.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract org.apache.avro.Schema</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOutputValueSchema()">getOutputValueSchema</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the schema for the output value used in <a href="DaVinciClient.html" title="interface in com.linkedin.davinci.client"><code>DaVinciClient</code></a>'s operations.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="DaVinciRecordTransformerUtility.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerUtility</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>,&#8203;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRecordTransformerUtility()">getRecordTransformerUtility</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoreRecordsInDaVinci()">getStoreRecordsInDaVinci</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoreVersion()">getStoreVersion</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onEndVersionIngestion()">onEndVersionIngestion</a></span>()</code></th>
<td class="colLast">
<div class="block">Lifecycle event triggered when record consumption is stopped for <code>storeVersion</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onRecovery(com.linkedin.davinci.store.AbstractStorageEngine,java.lang.Integer,com.linkedin.venice.utils.lazy.Lazy)">onRecovery</a></span>&#8203;(<a href="../store/AbstractStorageEngine.html" title="class in com.linkedin.davinci.store">AbstractStorageEngine</a>&nbsp;storageEngine,
          java.lang.Integer&nbsp;partition,
          <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="../../venice/compression/VeniceCompressor.html" title="class in com.linkedin.venice.compression">VeniceCompressor</a>&gt;&nbsp;compressor)</code></th>
<td class="colLast">
<div class="block">Bootstraps the client after it comes online.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onStartVersionIngestion()">onStartVersionIngestion</a></span>()</code></th>
<td class="colLast">
<div class="block">Lifecycle event triggered before consuming records for <code>storeVersion</code>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prependSchemaIdToHeader(java.nio.ByteBuffer,int)">prependSchemaIdToHeader</a></span>&#8203;(java.nio.ByteBuffer&nbsp;valueBytes,
                       int&nbsp;schemaId)</code></th>
<td class="colLast">
<div class="block">Prepends the given schema ID to the provided ByteBuffer</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prependSchemaIdToHeader(O,int,com.linkedin.venice.compression.VeniceCompressor)">prependSchemaIdToHeader</a></span>&#8203;(<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&nbsp;value,
                       int&nbsp;schemaId,
                       <a href="../../venice/compression/VeniceCompressor.html" title="class in com.linkedin.venice.compression">VeniceCompressor</a>&nbsp;compressor)</code></th>
<td class="colLast">
<div class="block">Serializes and compresses the value and prepends the schema ID to the resulting ByteBuffer.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processDelete(com.linkedin.venice.utils.lazy.Lazy)">processDelete</a></span>&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Override this method to customize the behavior for record deletions.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processPut(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">processPut</a></span>&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
          <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Implement this method to manage custom state outside the Da Vinci Client.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract <a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerResult</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transform(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">transform</a></span>&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
         <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">V</a>&gt;&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Implement this method to transform records before they are stored.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerResult</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transformAndProcessPut(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">transformAndProcessPut</a></span>&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
                      <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">V</a>&gt;&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Transforms and processes the given record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(int,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DaVinciRecordTransformer</h4>
<pre>public&nbsp;DaVinciRecordTransformer&#8203;(int&nbsp;storeVersion,
                                boolean&nbsp;storeRecordsInDaVinci)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeVersion</code> - the version of the store</dd>
<dd><code>storeRecordsInDaVinci</code> - set this to false if you intend to store records in a custom storage,
                              and not in the Da Vinci Client.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getKeySchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySchema</h4>
<pre class="methodSignature">public abstract&nbsp;org.apache.avro.Schema&nbsp;getKeySchema()</pre>
<div class="block">Returns the schema for the key used in <a href="DaVinciClient.html" title="interface in com.linkedin.davinci.client"><code>DaVinciClient</code></a>'s operations.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Schema</code> corresponding to the type of <a href="DaVinciRecordTransformer.html" title="class in com.linkedin.davinci.client"><code>DaVinciRecordTransformer</code></a>.</dd>
</dl>
</li>
</ul>
<a id="getOutputValueSchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputValueSchema</h4>
<pre class="methodSignature">public abstract&nbsp;org.apache.avro.Schema&nbsp;getOutputValueSchema()</pre>
<div class="block">Returns the schema for the output value used in <a href="DaVinciClient.html" title="interface in com.linkedin.davinci.client"><code>DaVinciClient</code></a>'s operations.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Schema</code> corresponding to the type of <a href="DaVinciRecordTransformer.html" title="class in com.linkedin.davinci.client"><code>DaVinciRecordTransformer</code></a>.</dd>
</dl>
</li>
</ul>
<a id="transform(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transform</h4>
<pre class="methodSignature">public abstract&nbsp;<a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerResult</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;&nbsp;transform&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
                                                            <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">V</a>&gt;&nbsp;value)</pre>
<div class="block">Implement this method to transform records before they are stored.
 This can be useful for tasks such as filtering out unused fields to save storage space.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the record to be transformed</dd>
<dd><code>value</code> - the value of the record to be transformed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client"><code>DaVinciRecordTransformerResult</code></a></dd>
</dl>
</li>
</ul>
<a id="processPut(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processPut</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;processPut&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
                                <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;&nbsp;value)</pre>
<div class="block">Implement this method to manage custom state outside the Da Vinci Client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the record to be put</dd>
<dd><code>value</code> - the value of the record to be put,
              derived from the output of <a href="#transform(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)"><code>transform(Lazy key, Lazy value)</code></a></dd>
</dl>
</li>
</ul>
<a id="processDelete(com.linkedin.venice.utils.lazy.Lazy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDelete</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;processDelete&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key)</pre>
<div class="block">Override this method to customize the behavior for record deletions.
 For example, you can use this method to delete records from a custom storage outside the Da Vinci Client.
 By default, it performs no operation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the record to be deleted</dd>
</dl>
</li>
</ul>
<a id="onStartVersionIngestion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStartVersionIngestion</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onStartVersionIngestion()</pre>
<div class="block">Lifecycle event triggered before consuming records for <code>storeVersion</code>.
 Use this method to perform setup operations such as opening database connections or creating tables.

 By default, it performs no operation.</div>
</li>
</ul>
<a id="onEndVersionIngestion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onEndVersionIngestion</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onEndVersionIngestion()</pre>
<div class="block">Lifecycle event triggered when record consumption is stopped for <code>storeVersion</code>.
 Use this method to perform cleanup operations such as closing database connections or dropping tables.

 By default, it performs no operation.</div>
</li>
</ul>
<a id="transformAndProcessPut(com.linkedin.venice.utils.lazy.Lazy,com.linkedin.venice.utils.lazy.Lazy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformAndProcessPut</h4>
<pre class="methodSignature">public final&nbsp;<a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerResult</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;&nbsp;transformAndProcessPut&#8203;(<a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>&gt;&nbsp;key,
                                                                      <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">V</a>&gt;&nbsp;value)</pre>
<div class="block">Transforms and processes the given record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the record to be put</dd>
<dd><code>value</code> - the value of the record to be put</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="DaVinciRecordTransformerResult.html" title="class in com.linkedin.davinci.client"><code>DaVinciRecordTransformerResult</code></a></dd>
</dl>
</li>
</ul>
<a id="prependSchemaIdToHeader(java.lang.Object,int,com.linkedin.venice.compression.VeniceCompressor)">
<!--   -->
</a><a id="prependSchemaIdToHeader(O,int,com.linkedin.venice.compression.VeniceCompressor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependSchemaIdToHeader</h4>
<pre class="methodSignature">public final&nbsp;java.nio.ByteBuffer&nbsp;prependSchemaIdToHeader&#8203;(<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&nbsp;value,
                                                         int&nbsp;schemaId,
                                                         <a href="../../venice/compression/VeniceCompressor.html" title="class in com.linkedin.venice.compression">VeniceCompressor</a>&nbsp;compressor)</pre>
<div class="block">Serializes and compresses the value and prepends the schema ID to the resulting ByteBuffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - to be serialized and compressed</dd>
<dd><code>schemaId</code> - to prepend to the ByteBuffer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ByteBuffer containing the schema ID followed by the serialized and compressed value</dd>
</dl>
</li>
</ul>
<a id="prependSchemaIdToHeader(java.nio.ByteBuffer,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependSchemaIdToHeader</h4>
<pre class="methodSignature">public final&nbsp;java.nio.ByteBuffer&nbsp;prependSchemaIdToHeader&#8203;(java.nio.ByteBuffer&nbsp;valueBytes,
                                                         int&nbsp;schemaId)</pre>
<div class="block">Prepends the given schema ID to the provided ByteBuffer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>valueBytes</code> - the original serialized and compressed value</dd>
<dd><code>schemaId</code> - to prepend to the ByteBuffer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ByteBuffer containing the schema ID followed by the serialized and compressed value</dd>
</dl>
</li>
</ul>
<a id="getStoreVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreVersion</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;getStoreVersion()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>storeVersion</code></dd>
</dl>
</li>
</ul>
<a id="getClassHash()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassHash</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;getClassHash()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the hash of the class bytecode</dd>
</dl>
</li>
</ul>
<a id="onRecovery(com.linkedin.davinci.store.AbstractStorageEngine,java.lang.Integer,com.linkedin.venice.utils.lazy.Lazy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRecovery</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;onRecovery&#8203;(<a href="../store/AbstractStorageEngine.html" title="class in com.linkedin.davinci.store">AbstractStorageEngine</a>&nbsp;storageEngine,
                             java.lang.Integer&nbsp;partition,
                             <a href="../../venice/utils/lazy/Lazy.html" title="interface in com.linkedin.venice.utils.lazy">Lazy</a>&lt;<a href="../../venice/compression/VeniceCompressor.html" title="class in com.linkedin.venice.compression">VeniceCompressor</a>&gt;&nbsp;compressor)</pre>
<div class="block">Bootstraps the client after it comes online.</div>
</li>
</ul>
<a id="getStoreRecordsInDaVinci()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreRecordsInDaVinci</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;getStoreRecordsInDaVinci()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>storeRecordsInDaVinci</code></dd>
</dl>
</li>
</ul>
<a id="getRecordTransformerUtility()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRecordTransformerUtility</h4>
<pre class="methodSignature">public final&nbsp;<a href="DaVinciRecordTransformerUtility.html" title="class in com.linkedin.davinci.client">DaVinciRecordTransformerUtility</a>&lt;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">K</a>,&#8203;<a href="DaVinciRecordTransformer.html" title="type parameter in DaVinciRecordTransformer">O</a>&gt;&nbsp;getRecordTransformerUtility()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>recordTransformerUtility</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
